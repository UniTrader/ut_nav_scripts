<?xml version="1.0" encoding="UTF-8"?>
<mdscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="UT_Navscript_Test" xsi:noNamespaceSchemaLocation="http://utnas/~unitrader/XRebirthxsds/md.xsd">
  <cues>
    <cue name="Init">
      <actions>
        <create_group groupname="$Testships"/>
      </actions>
      <cues>
        <cue name="SpawnTestShips" checktime="10s" checkinterval="5s">
          <conditions>
            <cue_is_complete cue="md.Setup.Start"/>
          </conditions>
          <actions>
            <do_if value="not player.entity.$unformatted_names?">
              <set_value name="player.entity.$unformatted_names" exact="table[]"/>
            </do_if>
            <do_all exact="10" counter="$i">
              <set_value name="$level" exact="$i"/>
              <do_while value="$level gt 3">
                <set_value name="$level" exact="3" operation="subtract"/>
              </do_while>
              <create_ship name="$Testship" zone="player.zone" macro="macro.ship_arg_xl_carrier_01_b_macro">
                <owner exact="faction.player"/>
                <pilot macro="character_boron_generic_01_macro">
                  <owner exact=" faction.player"/>
                  <skills>
                    <skill type="boarding" exact="15"/>
                    <skill type="engineering" exact="15"/>
                    <skill type="management" exact="15"/>
                    <skill type="morale" exact="15"/>
                  </skills>
                </pilot>
                <safepos object="player.container" radius="5km"/>
              </create_ship>
              <set_value name="player.entity.$unformatted_names.{$Testship}" exact="$i + ' $scriptcmd'"/>
              <set_value name="$Testship.pilot.$namereplacement" exact="table[]"/>
              <signal_cue_instantly cue="md.UT_CAC_Object_Name_Managment.NameUpdate_Initialize" param="$Testship"/>
              <set_object_name object="$Testship" name="'TEST ' + $i"/>
            </do_all>
          </actions>
        </cue>
      </cues>
    </cue>
  </cues>
</mdscript>
